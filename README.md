# AI-–ü—Ä–æ–¥–∞–≤–µ—Ü –¥–ª—è WhatsApp

–£–º–Ω—ã–π –±–æ—Ç –¥–ª—è –ø—Ä–∏–µ–º–∞ –∑–∞–∫–∞–∑–æ–≤ —Ñ–∞—Å—Ç-—Ñ—É–¥–∞ —á–µ—Ä–µ–∑ WhatsApp. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç AI –¥–ª—è –æ–±—â–µ–Ω–∏—è, Airtable –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤ –∏ Dropbox –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ–∫–æ–≤.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

*   ü§ñ **AI-–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç**: –û–±—â–∞–µ—Ç—Å—è –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ (RU/KZ).
*   üçî **–ú–µ–Ω—é**: –ü–æ–º–æ–≥–∞–µ—Ç –≤—ã–±—Ä–∞—Ç—å –±–ª—é–¥–∞ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –¥–æ–ø—ã.
*   üßæ **–ü—Ä–∏–µ–º –∑–∞–∫–∞–∑–æ–≤**: –°–æ–±–∏—Ä–∞–µ—Ç —Å–æ—Å—Ç–∞–≤ –∑–∞–∫–∞–∑–∞, –∞–¥—Ä–µ—Å –∏ —Ç–µ–ª–µ—Ñ–æ–Ω.
*   üí≥ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø–ª–∞—Ç—ã**: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç PDF-—á–µ–∫–∏ Kaspi –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö.
*   üìä **CRM**: –°–æ–∑–¥–∞–µ—Ç –∑–∞–∫–∞–∑—ã –≤ Airtable.
*   üë®‚Äçüç≥ **–ö—É—Ö–Ω—è**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–∫–∞–∑—ã –ø–æ–≤–∞—Ä–∞–º –≤ Telegram.

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ó–∞–ø—É—Å–∫

### 1. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

1.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.10+
2.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
    ```bash
    pip install -r requirements.txt
    ```
3.  –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ (—Å–º. –Ω–∏–∂–µ).
4.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
    ```bash
    python bot.py
    ```

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞)

1.  –°–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑:
    ```bash
    docker build -t whatsapp-bot .
    ```
2.  –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
    ```bash
    docker run -d --name bot --env-file .env --restart always whatsapp-bot
    ```

## üîë –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–ª—é—á–∞–º–∏:

```env
WHATSAPP_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_whapi
WHATSAPP_PHONE_ID=–≤–∞—à_id_—Ç–µ–ª–µ—Ñ–æ–Ω–∞
PERPLEXITY_API_KEY=–≤–∞—à_–∫–ª—é—á_perplexity
AIRTABLE_API_KEY=–≤–∞—à_–∫–ª—é—á_airtable
AIRTABLE_BASE_ID=id_–±–∞–∑—ã_airtable
AIRTABLE_TABLE_NAME=Orders
TELEGRAM_BOT_TOKEN=—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞_telegram
DROPBOX_ACCESS_TOKEN=—Ç–æ–∫–µ–Ω_dropbox
KITCHEN_STAFF_IDS=id1,id2,id3
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

*   `bot.py` - –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –±–æ—Ç–∞.
*   `Dockerfile` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Docker.
*   `requirements.txt` - –°–ø–∏—Å–æ–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫.
*   `.gitignore` - –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git.

## üë®‚Äçüíª –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

*   –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `poll_messages` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (Long Polling).
*   –ó–∞–∫–∞–∑—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Airtable —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è PDF-—á–µ–∫–∞.
*   –ß–µ–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ Dropbox, –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Airtable.
